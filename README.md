# ç¦å·å¤§å­¦ - å¤§æ€æ”¿è¯¾æ•°æ™ºåŒ–å¹³å°

> ä¼ä¸šçº§ Vue3 + TypeScript å‰ç«¯æ¶æ„

## ğŸ“– é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ç¦å·å¤§å­¦"å¤§æ€æ”¿è¯¾æ•°æ™ºåŒ–å¹³å°"çš„å‰ç«¯åº”ç”¨ï¼Œé‡‡ç”¨ä¼ä¸šçº§æ¶æ„è®¾è®¡ï¼ŒåŒ…å«é—¨æˆ·ç½‘ç«™å’Œç®¡ç†åå°ä¸¤å¤§æ¨¡å—ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Vue 3.5 + TypeScript 5.9
- **æ„å»ºå·¥å…·**: Vite 7.2
- **è·¯ç”±**: Vue Router 4.2
- **çŠ¶æ€ç®¡ç†**: Pinia 2.1
- **HTTP å®¢æˆ·ç«¯**: Axios 1.6
- **ä»£ç è§„èŒƒ**: ESLint + TypeScript ESLint

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ api/              # API æ¥å£æ¨¡å—
â”œâ”€â”€ assets/           # é™æ€èµ„æº
â”œâ”€â”€ components/       # ç»„ä»¶
â”‚   â”œâ”€â”€ common/       # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ portal/       # é—¨æˆ·ä¸“ç”¨ç»„ä»¶
â”‚   â””â”€â”€ admin/        # ç®¡ç†åå°ä¸“ç”¨ç»„ä»¶
â”œâ”€â”€ hooks/            # ç»„åˆå¼å‡½æ•°
â”œâ”€â”€ layouts/          # å¸ƒå±€ç»„ä»¶
â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ modules/      # è·¯ç”±æ¨¡å—
â”‚   â””â”€â”€ guards/       # è·¯ç”±å®ˆå«
â”œâ”€â”€ stores/           # Pinia çŠ¶æ€ç®¡ç†
â”œâ”€â”€ types/            # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”œâ”€â”€ views/            # é¡µé¢è§†å›¾
â”‚   â”œâ”€â”€ portal/       # é—¨æˆ·é¡µé¢
â”‚   â”œâ”€â”€ admin/        # ç®¡ç†åå°é¡µé¢
â”‚   â”œâ”€â”€ auth/         # è®¤è¯é¡µé¢
â”‚   â””â”€â”€ error/        # é”™è¯¯é¡µé¢
â”œâ”€â”€ App.vue           # æ ¹ç»„ä»¶
â””â”€â”€ main.ts           # åº”ç”¨å…¥å£
```

è¯¦ç»†æ¶æ„è¯´æ˜è¯·æŸ¥çœ‹ [ARCHITECTURE.md](./ARCHITECTURE.md)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 20.14.0
- npm >= 10.7.0

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

è®¿é—® http://localhost:5173

### ç”Ÿäº§æ„å»º

```bash
npm run build
```

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

### ä»£ç æ£€æŸ¥

```bash
npm run lint
```

## ğŸ” è®¤è¯ä¸æƒé™

### SSO ç™»å½•

æœ¬é¡¹ç›®é‡‡ç”¨ç¦å·å¤§å­¦ç»Ÿä¸€èº«ä»½è®¤è¯ï¼ˆSSOï¼‰ç™»å½•æ–¹å¼ï¼š

1. ç”¨æˆ·è®¿é—®éœ€è¦è®¤è¯çš„é¡µé¢
2. è‡ªåŠ¨è·³è½¬åˆ° SSO ç™»å½•é¡µé¢
3. SSO è®¤è¯æˆåŠŸåå›è°ƒåˆ°åº”ç”¨
4. åº”ç”¨è·å–ç”¨æˆ·ä¿¡æ¯å’Œæƒé™
5. æ ¹æ®è§’è‰²æ§åˆ¶é¡µé¢è®¿é—®

### è§’è‰²å®šä¹‰

- **student**: å­¦ç”Ÿ - å¯è®¿é—®é—¨æˆ·æ‰€æœ‰é¡µé¢
- **teacher**: æ•™å¸ˆ - å¯è®¿é—®é—¨æˆ· + éƒ¨åˆ†ç®¡ç†åå°
- **admin**: ç®¡ç†å‘˜ - å¯è®¿é—®æ‰€æœ‰é¡µé¢

## ğŸ“‹ åŠŸèƒ½æ¨¡å—

### é—¨æˆ·ç½‘ç«™ (Portal)

- **é¦–é¡µ** (`/`): å¹³å°é¦–é¡µ
- **æ¦‚è§ˆ** (`/overview`): å¹³å°æ¦‚è§ˆ
- **å¤§å…³æ€€** (`/care`): å…³æ€€æ¨¡å—
- **å¤§èµ„æº** (`/resources`): èµ„æºæµè§ˆ
- **å¤§ä¸»é¢˜** (`/topics`): ä¸»é¢˜ä¸“åŒº
- **å­¦ä¹ ä¸­å¿ƒ** (`/study`): è¯¾ç¨‹å­¦ä¹ 
- **è€ƒè¯•ä¸­å¿ƒ** (`/exam`): åœ¨çº¿è€ƒè¯•
- **ä¸ªäººä¸­å¿ƒ** (`/profile`): ä¸ªäººä¿¡æ¯

### ç®¡ç†åå° (Admin)

- **èµ„æºç®¡ç†** (`/admin/resources`): èµ„æºå¢åˆ æ”¹æŸ¥
- **é¢˜åº“ç®¡ç†** (`/admin/questions`): é¢˜ç›®ç®¡ç†
- **æ•°æ®åˆ†æ** (`/admin/analysis`): æ•°æ®ç»Ÿè®¡åˆ†æ
- **AI åŠ©æ‰‹** (`/admin/ai`): AI åŠŸèƒ½ç®¡ç†
- **ç³»ç»Ÿé…ç½®** (`/admin/system`): ç³»ç»Ÿå‚æ•°é…ç½®

## ğŸ”§ å¼€å‘è§„èŒƒ

### å‘½åè§„èŒƒ

- **ç»„ä»¶æ–‡ä»¶**: PascalCase (ä¾‹: `VideoPlayer.vue`)
- **å·¥å…·/Hooks**: camelCase (ä¾‹: `useRequest.ts`)
- **ç±»å‹å®šä¹‰**: kebab-case (ä¾‹: `user.d.ts`)
- **å¸¸é‡**: UPPER_SNAKE_CASE (ä¾‹: `API_BASE_URL`)

### Git Commit è§„èŒƒ

ä½¿ç”¨ Conventional Commits è§„èŒƒï¼š

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤ bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: é‡æ„
perf: æ€§èƒ½ä¼˜åŒ–
test: æµ‹è¯•ç›¸å…³
chore: æ„å»º/å·¥å…·ç›¸å…³
```

ç¤ºä¾‹:
```bash
git commit -m "feat: æ·»åŠ è§†é¢‘æ’­æ”¾å™¨ç»„ä»¶"
git commit -m "fix: ä¿®å¤åˆ†é¡µç»„ä»¶æ˜¾ç¤ºé”™è¯¯"
```

### ä»£ç ç»„ç»‡

#### ç»„ä»¶å†…ä»£ç é¡ºåº

```vue
<template>
  <!-- æ¨¡æ¿ -->
</template>

<script setup lang="ts">
// 1. å¯¼å…¥ä¾èµ–
import { ref } from 'vue'

// 2. ç±»å‹å®šä¹‰
interface Props {}

// 3. Props/Emits
const props = defineProps<Props>()

// 4. å“åº”å¼æ•°æ®
const count = ref(0)

// 5. è®¡ç®—å±æ€§
const doubled = computed(() => count.value * 2)

// 6. æ–¹æ³•
function increment() {}

// 7. ç”Ÿå‘½å‘¨æœŸ
onMounted(() => {})
</script>

<style scoped>
/* æ ·å¼ */
</style>
```

#### å¯¼å…¥é¡ºåº

```typescript
// 1. Vue æ ¸å¿ƒåº“
import { ref, computed } from 'vue'

// 2. ç¬¬ä¸‰æ–¹åº“
import axios from 'axios'

// 3. æœ¬åœ°ç»„ä»¶
import VideoPlayer from '@/components/common/VideoPlayer'

// 4. Stores
import { useUserStore } from '@/stores/user'

// 5. å·¥å…·å‡½æ•°
import { formatDate } from '@/utils/format'

// 6. ç±»å‹å®šä¹‰
import type { User } from '@/types'

// 7. æ ·å¼æ–‡ä»¶
import './styles.css'
```

## ğŸ“ ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ `.env.development` å’Œ `.env.production`

### 3. å®ç° API æ¥å£

åœ¨ `src/api/` ç›®å½•ä¸‹çš„å„ä¸ªæ–‡ä»¶ä¸­å®ç°å…·ä½“çš„ API è°ƒç”¨é€»è¾‘

### 4. å®ç°çŠ¶æ€ç®¡ç†

åœ¨ `src/stores/` ç›®å½•ä¸‹å®Œå–„ Pinia store çš„å…·ä½“é€»è¾‘

### 5. å¼€å‘é¡µé¢ç»„ä»¶

åœ¨ `src/views/` ç›®å½•ä¸‹å¼€å‘å„ä¸ªé¡µé¢çš„å…·ä½“å®ç°

### 6. å¼€å‘é€šç”¨ç»„ä»¶

åœ¨ `src/components/common/` ç›®å½•ä¸‹å®Œå–„é€šç”¨ç»„ä»¶

### 7. å®Œå–„è·¯ç”±å®ˆå«

åœ¨ `src/router/guards/` ç›®å½•ä¸‹å®ç°è®¤è¯å’Œæƒé™é€»è¾‘

### 8. æ·»åŠ  UI ç»„ä»¶åº“ (å¯é€‰)

æ¨èä½¿ç”¨:
- Element Plus
- Ant Design Vue
- Naive UI

### 9. é›†æˆå›¾è¡¨åº“ (ç”¨äºæ•°æ®åˆ†æ)

æ¨èä½¿ç”¨:
- ECharts
- Chart.js

### 10. é›†æˆå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ (ç”¨äºå†…å®¹ç¼–è¾‘)

æ¨èä½¿ç”¨:
- TinyMCE
- Quill

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

1. âœ… å…¨ç«™ä½¿ç”¨ HTTPS
2. âœ… æ•æ„Ÿä¿¡æ¯ä¸è¦å­˜å‚¨åœ¨å‰ç«¯
3. âœ… Token å­˜å‚¨ä½¿ç”¨ httpOnly Cookieï¼ˆå¦‚æœåç«¯æ”¯æŒï¼‰
4. âœ… å®ç° XSS é˜²æŠ¤
5. âœ… å®ç° CSRF é˜²æŠ¤
6. âœ… ç”¨æˆ·è¾“å…¥å¿…é¡»éªŒè¯å’Œè½¬ä¹‰
7. âœ… API è¯·æ±‚å¿…é¡»åŒ…å«è®¤è¯ä¿¡æ¯

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ¶æ„è®¾è®¡æ–‡æ¡£](./ARCHITECTURE.md)
- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://vuejs.org/)
- [TypeScript å®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/)
- [Pinia å®˜æ–¹æ–‡æ¡£](https://pinia.vuejs.org/)
- [Vue Router å®˜æ–¹æ–‡æ¡£](https://router.vuejs.org/)
- [Vite å®˜æ–¹æ–‡æ¡£](https://vitejs.dev/)

## ğŸ‘¥ å›¢é˜Ÿ

**å‰ç«¯æ¶æ„ç»„**

## ğŸ“„ è®¸å¯

æœ¬é¡¹ç›®ä»…ä¾›ç¦å·å¤§å­¦å†…éƒ¨ä½¿ç”¨

---

**ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2025-12-09
